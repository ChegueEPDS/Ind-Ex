<div class="mat-elevation-z8 feedbacks">
  <table mat-table [dataSource]="dataSource" matSort>

    <!-- Visszajelzés beküldésének dátuma -->
    <ng-container matColumnDef="submittedAt">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Dátum</th>
      <td mat-cell *matCellDef="let element">{{ element.submittedAt | date: 'short' }}</td>
    </ng-container>
  
    <!-- Kérdés -->
    <ng-container matColumnDef="question">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Kérdés</th>
      <td mat-cell *matCellDef="let element">{{ element.question }}</td>
    </ng-container>
  
    <!-- Válasz -->
    <ng-container matColumnDef="answer">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Válasz</th>
      <td class="answerbox" mat-cell *matCellDef="let element; let rowIndex = index">
        <div #answerContent class="answer" [ngClass]="{ 'collapsed': !expandedRows[rowIndex] }" [style.maxHeight]="expandedRows[rowIndex] ? 'none' : '80px'" [innerHTML]="element.answer">
        </div>
        <button mat-icon-button (click)="toggleExpand(rowIndex)">
          <mat-icon [ngClass]="{ 'rotated': expandedRows[rowIndex] }">chevron_right</mat-icon>
        </button>
      </td>
    </ng-container>
  
    <!-- Visszajelzés -->
    <ng-container matColumnDef="feedback">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Visszajelzés</th>
      <td mat-cell *matCellDef="let element">{{ element.feedback }}</td>
    </ng-container>
  
    <!-- Referenciák -->
    <ng-container matColumnDef="references">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Referenciák</th>
      <td mat-cell *matCellDef="let element">{{ element.references }}</td>
    </ng-container>
  
    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>
  
  <mat-paginator [pageSizeOptions]="[10, 25, 50, 100]" showFirstLastButtons></mat-paginator>
</div>
